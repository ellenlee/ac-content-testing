## 練習案例說明：冷氣遙控器

在接下來的課程中，我們會以開發一個冷氣遙控器為例，運用 TDD 完成遙控器的基本功能如「開關機」、「調整溫度」、「定時」⋯⋯。

我們會一邊講解這個例子的 TDD 實作，一邊帶入 Rails 的框架觀念，過程中，為聚焦在觀念的示範，會以 Pseudocode 來進行實作。

![image](images/0102.png)

#### 先寫「打開冷氣」功能測試

如果採用 TDD 開發流程，我們會先撰寫「打開冷氣」的測試，請你先準備好一個資料夾 **/air-conditioner**，並且創建一個測試檔案：<mark>Ellen: 需要阿鋒改寫</mark>

```
確認冷氣出風口沒有出風
打開冷氣
感覺到冷氣出風口開始出風
```
因為功能尚未撰寫，因此跑測試的結果為未通過（紅燈）。<mark>Ellen: 改寫成真實專案後，加截圖</mark>

#### 實作「打開冷氣」功能測試
<mark>Ellen: 需要阿鋒改寫</mark>
```
def 打開冷氣
    ...
    ...
end
```
實作完打開冷氣的功能之後，再跑一次測試結果顯示為未通過（紅燈）。

錯誤訊息是冷氣沒插插頭打不開（<mark>Ellen: 這裡的錯誤訊息要怎麼跑出來 XD？原為「錯誤訊息是冷氣沒插插頭打不開」麻煩再想想怎麼 fix XD</mark>），這個時候我們會修改測試，在測試裡面假設冷氣有插著插頭：
```
假設冷氣有插著插頭
確認冷氣出風口沒有出風
打開冷氣
感覺到冷氣出風口開始出風
```
這個時候再跑一次測試結果顯示為通過（綠燈）。

到這邊打開冷氣的功能算是實作完成，接下來就是依照同樣的模式繼續開發剩下的功能。如果你回過頭檢視 TDD 的三個核心精神，你會發現這次的實作完全符合 TDD 的開發標準。

這一章我們介紹了 TDD 的起源、核心精神和優缺點，還有透過一個簡單的範例詮釋了 TDD 的開發場景，希望到這邊讀者能對 TDD 有一點基本的認識。下一章我們會帶入更詳細的範例，結合生活化的場景配上實際的程式做更詳細的教學。

----

### 參考資料
- https://en.wikipedia.org/wiki/Test-driven_development
- http://derekbarber.ca/blog/2012/03/27/why-test-driven-development/
- http：//digitalcommons.calpoly.edu/cgi/viewcontent.cgi?article=1027&context=csse_fac
